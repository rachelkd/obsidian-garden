---
{"dg-publish":true,"permalink":"/000-zettlekasten/10-8-priority-queues/","created":"2023-12-05T19:49:16.358-05:00","updated":"2023-12-05T20:27:07.747-05:00"}
---

#CSC110

**Covered in:**
- [[100 ðŸ“’ Academia/CSC110/02 Lecture Notes/Lecture 27 Queues and Priority Queues\|Lecture 27 Queues and Priority Queues]]
---
```table-of-contents
```
---
# The Priority Queue ADT

- Priority Queue ADT
	- Similar to [[10.7 Queues|queues]]
	- Every item has some measure of its â€œpriorityâ€
	- Items are removed in order of their priority; ties are broken in **FIFO** order
- Data:
	- collection of items and their priorities
- Operations:
	- determine whether the priority queue is empty
	- add an item with a priority (*enqueue*)
	- remove highest priority item (*dequeue*)

Note that priorities can be represented in different ways. In this case, largest integer = higher priorities.

## Public interface of a `PriorityQueue` class

```python
from typing import Any


class PriorityQueue:
    """A collection items that are be removed in priority order.

    When removing an item from the queue, the highest-priority item is the one
    that is removed.

    >>> pq = PriorityQueue()
    >>> pq.is_empty()
    True
    >>> pq.enqueue(1, 'hello')
    >>> pq.is_empty()
    False
    >>> pq.enqueue(5, 'goodbye')
    >>> pq.enqueue(2, 'hi')
    >>> pq.dequeue()
    'goodbye'
    """

    def __init__(self) -> None:
        """Initialize a new and empty priority queue."""

    def is_empty(self) -> bool:
        """Return whether this priority queue contains no items.
        """

    def enqueue(self, priority: int, item: Any) -> None:
        """Add the given item with the given priority to this priority queue.
        """

    def dequeue(self) -> Any:
        """Remove and return the item with the highest priority.

        Raise an EmptyPriorityQueueError when the priority queue is empty.
        """


class EmptyPriorityQueueError(Exception):
    """Exception raised when calling pop on an empty priority queue."""

    def __str__(self) -> str:
        """Return a string representation of this error."""
        return 'You called dequeue on an empty priority queue.'
```

# List-based implementation of the Priority Queue ADT

Consider the following implementation of `PriorityQueue.__init__`, `PriorityQueue.is_empty`, and `PriorityQueue.dequeue`

```python
class PriorityQueue:
    """A queue of items that can be dequeued in priority order.

    When removing an item from the queue, the highest-priority item is the one
    that is removed.
    """
    # Private Instance Attributes:
    #   - _items: a list of the items in this priority queue
    _items: list[tuple[int, Any]]

    def __init__(self) -> None:
        """Initialize a new and empty priority queue."""
        self._items = []

    def is_empty(self) -> bool:
        """Return whether this priority queue contains no items.
        """
        return self._items == []

    def dequeue(self) -> Any:
        """Remove and return the item with the highest priority.

        Raise an EmptyPriorityQueueError when the priority queue is empty.
        """
        if self.is_empty():
            raise EmptyPriorityQueueError
        else:
            _priority, item = self._items.pop()
            return item
```

For `PriorityQueue.enqueue`, we could:
1. Insert new priority and item into list, then sort by priority
	- This is inefficient
2. Start with a sorted list, search for the right index in the list to add new item
